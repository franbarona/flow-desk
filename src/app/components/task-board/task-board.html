<!-- Main container -->
<div class="h-screen w-full bg-neutral-900 text-neutral-50">
  <!-- Board -->
  <div class="h-full w-full flex justify-center gap-3 overflow-auto p-12">
    
    <!-- Columns -->
    <div 
      *ngFor="let column of columns" 
      class="w-56 shrink-0"
    >
      <!-- Column Header -->
      <div class="mb-3 flex items-center justify-between">
        <h3 class="font-medium" [ngClass]="column.headingColor">
          {{ column.title }}
        </h3>
        <span class="rounded text-sm text-neutral-400">
          {{ getFilteredCards(column.id).length }}
        </span>
      </div>

      <!-- Column Content -->
      <div
        class="h-full w-full transition-colors"
        [ngClass]="{
          'bg-neutral-800/50': activeColumn === column.id,
          'bg-neutral-800/0': activeColumn !== column.id
        }"
        (dragover)="onDragOver($event, column.id)"
        (dragleave)="onDragLeave(column.id)"
        (drop)="onDrop($event, column.id)"
      >
        <!-- Cards -->
        <ng-container *ngFor="let card of getFilteredCards(column.id); trackBy: trackByCardId">
          <!-- Drop Indicator -->
          <div 
            class="my-0.5 h-0.5 w-full bg-violet-400 opacity-0 transition-opacity"
            [attr.data-before]="card.id"
            [attr.data-column]="column.id"
          ></div>
          
          <div 
            class="mb-2"
            [attr.data-card-id]="card.id"
          >
            <!-- Card -->
            <div
              draggable="true"
              (dragstart)="onDragStart($event, card)"
              class="cursor-grab rounded border border-neutral-700 bg-neutral-800 p-3 active:cursor-grabbing hover:border-neutral-600 transition-all duration-200 hover:shadow-lg hover:scale-[1.02]"
            >
              <p class="text-sm text-neutral-100">{{ card.title }}</p>
            </div>
          </div>
        </ng-container>

        <!-- Final Drop Indicator -->
        <div 
          class="my-0.5 h-0.5 w-full bg-violet-400 opacity-0 transition-opacity"
          [attr.data-before]="-1"
          [attr.data-column]="column.id"
        ></div>

        <!-- Add Card Component -->
        <app-add-card 
          [column]="column.id"
          (cardAdded)="addCard(column.id, $event)"
        ></app-add-card>
      </div>
    </div>

    <!-- Delete -->
    <div
      class="absolute bottom-5 right-5 grid h-34 w-34 shrink-0 place-content-center rounded border text-3xl transition-colors"
      [ngClass]="{
        'border-red-800 bg-red-800/20 text-red-500': activeBurnBarrel,
        'border-neutral-500 bg-neutral-500/20 text-neutral-500': !activeBurnBarrel
      }"
      (dragover)="onDragOver($event)"
      (dragleave)="onDragLeave()"
      (drop)="onDrop($event)"
    >
      <!-- Fire icon when active, trash when inactive -->
      <ng-container *ngIf="activeBurnBarrel; else trashIcon">
        <!-- Fire icon - you'll need to add an icon library or use SVG -->
        <svg 
          class="animate-bounce w-8 h-8" 
          fill="currentColor" 
          viewBox="0 0 20 20"
        >
          <path fill-rule="evenodd" d="M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03zM12.12 15.12A3 3 0 017 13s.879.5 2.5.5c0-1 .5-4 1.25-4.5.5 1 .786 1.293 1.371 1.879A2.99 2.99 0 0113 13a2.99 2.99 0 01-.879 2.121z" clip-rule="evenodd" />
        </svg>
      </ng-container>
      <ng-template #trashIcon>
        <!-- Trash icon -->
        <svg 
          class="w-8 h-8" 
          fill="none" 
          stroke="currentColor" 
          viewBox="0 0 24 24"
        >
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
        </svg>
      </ng-template>
    </div>
  </div>
</div>