<!-- Sidebar -->
<aside
  class="fixed top-0 left-0 z-50 w-64 h-screen transition-transform duration-300 ease-in-out border-r border-gray-300 bg-[#F9FAF5] lg:translate-x-0 font-medium"
  [class.translate-x-0]="isOpen"
  [class.-translate-x-full]="!isOpen"
>
  <!-- Header del sidebar -->
  <div class="flex items-center justify-start p-8">
    <h2 class="text-xl font-semibold text-gray-800">FlowDesk</h2>
    <button (click)="toggleSidenav()" class="lg:hidden p-2 rounded-md hover:bg-gray-100">
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M6 18L18 6M6 6l12 12"
        ></path>
      </svg>
    </button>
  </div>
  <div class="m-auto flex justify-center mt-4 px-4">
    <button
      class="w-full py-2.5 bg-lime-300 rounded-md cursor-pointer shadow-xs hover:shadow-lg hover:shadow-lime-100 hover:scale-[1.01] transition-all duration-200 flex items-center justify-center gap-2"
      (click)="addNewTask()"
    >
      <app-icon [icon]="'add'" /> Add new task
    </button>
  </div>

  <!-- NavegaciÃ³n -->
  <nav class="mt-4">
    <ul class="space-y-2 px-4">
      <li *ngFor="let item of menuItems; let i = index">
        @if (item.subItems) {
        <div>
          <div
            (click)="toggleSubmenu(i)"
            class="flex gap-2 items-center px-4 py-2 text-gray-800 rounded-md hover:bg-[#F6F5E1] transition-colors duration-200 cursor-pointer"
          >
            @if(item.icon) {
            <app-icon [icon]="item.icon" />
            }
            {{ item.label }}
            <span
              class="ml-auto transition-transform duration-200"
              [class.rotate-180]="openSubmenus[i]"
            >
              <app-icon [icon]="'expand_more'" />
            </span>
          </div>
          <ul
            class="mt-1 ml-6 space-y-1 transition-all duration-200 overflow-hidden"
            [class.hidden]="!openSubmenus[i]"
          >
            <li *ngFor="let subItem of item.subItems">
              <a
                [routerLink]="subItem.route"
                routerLinkActive="bg-[#F6F5E1] font-semibold"
                class="flex gap-2 items-center px-4 py-2 text-gray-700 rounded-md hover:bg-[#F6F5E1] transition-colors duration-200"
              >
                @if(subItem.icon) {
                <app-icon [icon]="subItem.icon" [color]="subItem.iconColor" />
                }
                {{ subItem.label }}
              </a>
            </li>
          </ul>
        </div>
        } @else {
        <a
          [routerLink]="item.route"
          routerLinkActive="bg-[#F6F5E1] font-bold"
          class="flex gap-2 items-center px-4 py-2 text-gray-700 rounded-md hover:bg-[#F6F5E1] transition-colors duration-200"
        >
          @if(item.icon) {
          <app-icon [icon]="item.icon" />
          }
          {{ item.label }}
        </a>
        }
      </li>
    </ul>
  </nav>

  <!-- Footer del sidebar (opcional) -->
  <div class="absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200">
    <div class="flex items-center space-x-3">
      <div class="w-8 h-8 bg-gray-300 rounded-full"></div>
      <div>
        <p class="text-sm font-medium text-gray-900">Usuario</p>
        <p class="text-xs text-gray-500">usuario@email.com</p>
      </div>
    </div>
  </div>
</aside>
